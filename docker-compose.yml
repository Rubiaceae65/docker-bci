version: "3"
services:
  designer:
    image: lala432/openvibe:latest
    build: .
    command: /run.sh
    environment:
      - DISPLAY=${DISPLAY}
    volumes:
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ./meta:/meta:rw
      - ./run.sh:/run.sh:ro
      - /dev/bus/usb:/dev/bus/usb:rw
      - $HOME/.Xauthority:/root/.Xauthority:rw
      - /dev/rfcomm0:/dev/rfcomm0:rw
      - ./giada:/giada:rw
      - /var/run/dbus:/var/run/dbus:ro
    network_mode: host
  acquisition:
    image: lala432/openvibe-wine:latest
    build: 
      context: .
      dockerfile: Dockerfile.wine
    network_mode: host
